id: analysis_clinical
tests:
  - id: exomiser
    path: /analysis/clinical/interpreter/exomiser/run
    method: POST
    async: true
    tasks:
      - id: task1
        queryParams:
          study: test@germline:ashkenazim
        body:
          clinicalAnalysis: CHG002O
        validation:
          # seconds
          time: 0.05
          results:
            - file_exists('responses[0].results[0].output', ['interpretation.json'])
            - file_size('responses[0].results[0].output', 'interpretation.json', 0, 'gt')
            - list_apply('responses[0].results[0].params.clinicalAnalysis', 'v -> v.type == "SNV"')

